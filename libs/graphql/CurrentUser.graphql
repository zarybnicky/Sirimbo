fragment User on User {
  id: uId
  uLogin
  uJmeno
  uPrijmeni
  uEmail
  uTelefon
  uGroup
  uStreet
  uRodneCislo
  uPoznamky
  uPostalCode
  uPohlavi
  uOrientationNumber
  uNationality
  uNarozeni
  uDistrict
  uConscriptionNumber
  uCity
}

fragment UserAuth on User {
  ...User
  userProxiesList {
    id
    person {
      ...Person
      tenantMembershipsList(condition: { active: true }) {
        id
        tenant {
          ...Tenant
        }
      }
      cohortMembershipsList(condition: { active: true }) {
        id
        cohort {
          ...Cohort
        }
      }
      tenantAdministratorsList(condition: { active: true }) {
        id
        tenantId
      }
      tenantTrainersList(condition: { active: true }) {
        id
        tenantId
      }
      couplesList {
        ...Couple
      }
    }
  }
}

query CurrentUser {
  getCurrentUser {
    ...UserAuth
  }
}

mutation Login($login: String!, $passwd: String!) {
  login(input: { login: $login, passwd: $passwd }) {
    result {
      usr {
        ...UserAuth
      }
    }
  }
}

mutation Logout {
  logout(input: {}) {
    __typename
  }
}

mutation ResetPassword($input: ResetPasswordInput!) {
  resetPassword(input: $input) {
    __typename
  }
}

mutation ChangePassword($input: ChangePasswordInput!) {
  changePassword(input:  $input) {
    __typename
  }
}
