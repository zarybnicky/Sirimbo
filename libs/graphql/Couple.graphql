fragment Couple on Couple {
  id
  active
  since
  until
  woman {
    id
    name
    firstName
    lastName
  }
  man {
    id
    name
    firstName
    lastName
  }
}

query CoupleList($first: Int, $offset: Int, $active: Boolean = true) {
  couples(first: $first, offset: $offset, condition: { active: $active }) {
    totalCount
    nodes {
      ...Couple
    }
  }
}

query Couple($id: BigInt!) {
  couple(id: $id) {
    ...Couple
    attendancesList(orderBy: EVENT_INSTANCE_BY_INSTANCE_ID__SINCE_DESC, first: 20) {
      ...EventAttendance
      instance {
        ...EventInstanceExtended
      }
    }
  }
}

mutation CreateCouple($input: CreateCoupleInput!) {
  createCouple(input: $input) {
    couple {
      ...Couple
    }
  }
}

mutation UpdateCouple($input: UpdateCoupleInput!) {
  updateCouple(input: $input) {
    couple {
      ...Couple
    }
  }
}
