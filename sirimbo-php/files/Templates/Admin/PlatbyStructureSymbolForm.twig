{% extends "Layout.twig" %}

{% block title %}Správa plateb{% endblock %}
{% block subheader %}<h2>{{ action ? 'Přidat' : 'Upravit' }} specifický symbol</h2>{% endblock %}

{% block content %}
  {% include 'Admin/PlatbyNavigation.twig' %}
  <div class="container">
    <form action="" method="post">
      <div class="form-group row">
        <label for="name" class="col-sm-2 col-form-label">Jméno:</label>
        <div class="col-sm-10">
          <input class="form-control" type="text" name="name" value="{{ name }}" />
        </div>
      </div>
      <div class="form-group row">
        <label for="symbol" class="col-sm-2 col-form-label">Specifický symbol:</label>
        <div class="col-sm-10">
          <input class="form-control" type="text" name="symbol" value="{{ symbol }}" />
        </div>
      </div>
      <div class="form-group row">
        <label for="amount" class="col-sm-2 col-form-label">Očekávaná částka:</label>
        <div class="col-sm-10">
          <input class="form-control" type="text" name="amount" value="{{ amount }}" />
        </div>
      </div>
      <div class="form-group row">
        <label for="dueDate" class="col-sm-2 col-form-label">Splatnost:</label>
        <div class="col-sm-10">
          <input class="form-control" type="date" name="dueDate" value="{{ dueDate }}" />
        </div>
      </div>
      <div class="form-group row">
        <label for="validRange" class="col-sm-2 col-form-label">Platnost:</label>
        <div class="col-sm-10">
          {{ dateRange('validRange', validRange) }}
        </div>
      </div>
      <div class="row">
        <div class="offset-sm-2 col-sm-10">
          {{ checkbox('usePrefix', '1', usePrefix, 'Povolit prefix roku?') }}
          {{ checkbox('archive', '1', archive, 'Archivovat?') }}
          {{ checkbox('visible', '1', visible, 'Viditelný') }}
        </div>
      </div>

      <h3>Přiřazené kategorie plateb</h3>
      {% for row in groups %}
        <div class='mb-2 form-group form-check'>
          <input type="checkbox" class="form-check-input" name="group[]"
                 value={{ row.pg_id }}" {{ groupsSelected[row.pg_id] is defined ? ' checked' : '' }} />
          <label class='form-check-label'>
            {{ row.pg_name }} ({{ row.pg_type ? 'Členské příspěvky' : 'Běžné platby' }})
          </label>
        </div>
      {% endfor %}

      <input type='hidden' name='returnURI' value='{{ returnURI }}'>
      <button class="btn btn-primary">{{ action == 'add' ? 'Přidat' : 'Upravit' }}</button>
      <a class="btn btn-outline-primary" href="{{ returnURI }}">Zpět</a><br/>
    </form>
  </div>
{% endblock %}
