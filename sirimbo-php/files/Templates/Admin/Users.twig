{% extends "Layout.twig" %}

{% block content %}
  <div class="container">
    <form action="" method="get">
      <table>
        <tr>
          <td>Uživatelé:</td>
          <td>{{ select('status', statusOptions, status ? status : 'all') }}</td>
        </tr>
        <tr>
          <td>Skupina:</td>
          <td>{{ select('skupina', skupinyOptions, skupina ? skupina : 'all') }}</td>
        </tr>
        <tr>
          <td>Oprávnění:</td>
          <td>{{ select('group', groupOptions, group ? group : 'all') }}</td>
        </tr>
        <tr>
          <td>Řadit podle:</td>
          <td>{{ select('sort', sortOptions, sort ? sort : 'prijmeni') }}</td>
        </tr>
        <tr>
          <td>Zobrazení:</td>
          <td>{{ select('view', {'info': 'informace', 'status': 'status uživatele'}, view ? view : 'info') }}</td>
        </tr>
        <tr>
          <td colspan="2"><button class="btn btn-primary">Filtrovat</button></td>
        </tr>
      </table>
    </form>

    <form action="" method="POST">
      <a href="/admin/users/add" class="btn btn-outline-primary">Nový uživatel</a>
      <a href="/admin/users/duplicate" class="btn btn-outline-primary">Duplicitní uživatelé</a>
      <a href="/admin/users/unconfirmed" class="btn btn-outline-primary">Nepotvrzení uživatelé</a>
      <a href="/admin/users/statistiky" class="btn btn-outline-primary">Statistiky</a>
      <a href="/admin/users/getMsmtCsv" class="btn btn-outline-primary">MŠMT export</a>
      {% if view == 'status' %}
        <button class="btn btn-primary" name="action" value="save">Uložit změny</button>
      {% endif %}
      <br>

      {% if not data %}
        {{ notice('Žádní takoví uživatelé') }}
      {% elseif view == 'status' %}
        {{ table(data, [
            ['checkBox', ''],
            ['index', ''],
            ['fullName', 'Jméno'],
            ['skupina', ''],
            ['groupInfo', 'Oprávnění'],
            ['system', 'Systémový<br/>uživatel', ' class="center"'],
            ['ban', 'Ban', ' class="center"'],
        ], ' style="width:100%"') }}
      {% else %}
        {{ table(data, [
            ['checkBox', ''],
            ['index', ''],
            ['fullName', 'Jméno'],
            ['colorBox', ''],
            ['groupInfo', 'Oprávnění'],
            ['birthDate', 'Datum<br/>narození'],
            ['varSymbol', 'Variabilní<br/>symbol'],
        ], ' style="width:100%"') }}
      {% endif %}
    </form>
    <div style="text-align:center">{{ navigation }}</div>
  </div>
{% endblock %}
