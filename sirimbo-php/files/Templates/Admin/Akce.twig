{% extends "Layout.twig" %}

{% block title %}Správa akcí{% endblock %}

{% block content %}
  <div class="container">
    <form action="" method="POST">
      <a href="/admin/akce/add" class="btn btn-primary">Přidat</a>
      <table>
        <tr>
          <th>Jméno</th>
          <th>Datum</th>
          <th>Kapacita</th>
          <th>Viditelný</th>
        </tr>
        {% for row in data %}
          <tr>
            <td>
              <div class="btn-group">
                <button type="button" class="btn btn-xs pt-0" data-toggle="dropdown">
                  <img alt="Upravit" width="14" src="/style/icon-gear.png" />
                </button>
                <div class="dropdown-menu">
                  <a class="dropdown-item" href="/admin/akce/edit/{{ row.a_id }}">Upravit</a>
                  <a class="dropdown-item" href="/admin/akce/detail/{{ row.a_id }}">Upravit účastníky</a>
                  <a class="dropdown-item" href="/admin/akce/dokumenty/{{ row.a_id }}">Upravit dokumenty</a>
                  <a class="dropdown-item" href="/admin/akce/remove/{{ row.a_id }}">Odstranit</a>
                </div>
              </div>
              {{ row.a_jmeno }}
            </td>
            <td>
              {{ row.a_od | date('j. n. Y') }}
              {% if row.a_od != row.a_do %} - {{ row.a_do | date('j. n. Y') }}{% endif %}
            </td>
            <td>{{ row.a_obsazeno }}/{{ row.a_kapacita }}</td>
            <td>
              <visibility-checkbox type="event" name="{{ row.a_id }}" initialValue="{{ row.a_visible }}">
              </visibility-checkbox>
            </td>
          </tr>
        {% endfor %}
      </table>
    </form>
  </div>
{% endblock %}
