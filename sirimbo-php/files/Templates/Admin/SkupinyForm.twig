{% extends "Layout.twig" %}

{% block title %}Správa skupin{% endblock %}
{% block subheader %}<h2>{{ action == 'add' ? 'Přidat' : 'Upravit' }} skupinu</h2>{% endblock %}

{% block content %}
  <div class="container">
    <form action="" method="POST">
      <div class="form-group row">
        <label for="name" class="col-sm-2 col-form-label">Jméno</label>
        <div class="col-sm-10">
          <input class="form-control" type="text" name="name" value="{{ name }}" />
        </div>
      </div>
      <div class="form-group row">
        <label for="color" class="col-sm-2 col-form-label">Barva</label>
        <div class="col-sm-10">
          <input type="color" name="color" value="{{ color }}" />
        </div>
      </div>
      <div class="form-group row">
        <label for="desc" class="col-sm-2 col-form-label">Popis</label>
        <div class="col-sm-10">
          <textarea class="form-control" rows="3" cols="30" name="desc">{{ popis }}</textarea>
        </div>
      </div>
      <br/>
      <h3>Přiřazené kategorie plateb</h3>
      {% for row in groups %}
        <div class='mb-2 form-group form-check'>
          <input type="checkbox" class="form-check-input" name="group[]"
                 value="{{ row.pg_id }}" {{ groupsSelected[row.pg_id] is defined ? ' checked' : '' }} />
          <label class='form-check-label'>
            {{ row.pg_name }} ({{ row.pg_type ? 'Členské příspěvky' : 'Běžné platby' }})
          </label>
        </div>
      {% endfor %}
      <br>
      <div class="form-group">
        <button class="btn btn-primary">{{ action == 'add' ? 'Přidat' : 'Upravit' }}</button>
        <a class="btn btn-outline-primary" href="/admin/skupiny">Zpět</a>
      </div>
    </form>
  </div>
{% endblock %}
