fragment User on User {
  id: uId
  uLogin
  uJmeno
  uPrijmeni
  uEmail
  uTelefon
  uConfirmed
  uTeacher
  uDancer
  uSystem
  uLock
  uBan
  uGroup
  uSkupina
  uTimestamp
  uStreet
  uRodneCislo
  uPoznamky
  uPostalCode
  uPohlavi
  uOrientationNumber
  uNationality
  uNarozeni
  uMemberUntil
  uMemberSince
  uGdprSignedAt
  uDistrict
  uCreatedAt
  uConscriptionNumber
  uCity
}

fragment UserAuth on User {
  ...User
  permissionByUGroup {
    ...Role
  }
}

fragment CouplePartial on Pary {
  id: pId
  pIdPartner
  pIdPartnerka
  pArchiv
  userByPIdPartner {
    id: uId
    uJmeno
    uPrijmeni
  }
  userByPIdPartnerka {
    id: uId
    uJmeno
    uPrijmeni
  }
}

query CurrentUser {
  getCurrentUser {
    ...UserAuth
  }
  getCurrentCouple {
    ...CouplePartial
  }
}

mutation Login($login: String!, $passwd: String!) {
  login(input: { login: $login, passwd: $passwd }) {
    result {
      usr {
        ...UserAuth
      }
      couple {
        ...CouplePartial
      }
    }
  }
}

mutation Logout {
  logout(input: {}) {
    __typename
  }
}

mutation Register($input: CreateUserInput!) {
  createUser(input: $input) {
    user {
      id: uId
    }
  }
}

mutation ResetPassword($input: ResetPasswordInput!) {
  resetPassword(input: $input) {
    __typename
  }
}
