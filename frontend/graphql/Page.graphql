fragment Page on Page {
  nodeId
  id
  url
  title
  content
  createdAt
  updatedAt
}

query Page($url: String!) {
  pageByUrl(url: $url) {
    content
  }
}

query PageList {
  pages(orderBy: URL_ASC) {
    nodes {
      ...Page
    }
  }
}

query PageRevisions($id: Int!) {
  pageRevisions(condition: {id: $id}) {
    nodes {
      revNumber
      revOperation
      revTimestamp
      id
      url
      title
      content
      createdAt
      updatedAt
    }
  }
}

mutation CreatePage($input: PageInput!) {
  createPage(input: {page: $input}) {
    page {
      ...Page
    }
  }
}

mutation UpdatePage($id: Int!, $patch: PagePatch!) {
  updatePage(input: {id: $id, patch: $patch}) {
    page {
      ...Page
    }
  }
}
