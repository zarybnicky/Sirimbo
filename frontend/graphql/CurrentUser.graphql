fragment UserAuth on User {
  id: uId
  uLogin
  uEmail
  userProxiesList {
    id
    person {
      ...PersonWithFullLinks
    }
  }
}

query CurrentUser {
  refreshJwt
  getCurrentUser {
    ...UserAuth
  }
}

query UserList {
  users {
    nodes {
      id: uId
      uLogin
      uEmail
    }
  }
}

mutation Login($login: String!, $passwd: String!) {
  login(input: { login: $login, passwd: $passwd }) {
    result {
      jwt
      usr {
        ...UserAuth
      }
    }
  }
}

mutation ResetPassword($input: ResetPasswordInput!) {
  resetPassword(input: $input) {
    __typename
  }
}

mutation ChangePassword($input: ChangePasswordInput!) {
  changePassword(input:  $input) {
    __typename
  }
}

mutation RegisterUsingInvitation($input: RegisterUsingInvitationInput!) {
  registerUsingInvitation(input: $input) {
    result {
      jwt
      usr {
        ...UserAuth
      }
    }
  }
}

query InvitationInfo($token: UUID!) {
  invitationInfo(token: $token)
}
