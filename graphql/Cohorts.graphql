fragment CohortBasic on Cohort {
  id
  name
  colorRgb
}

fragment Cohort on Cohort {
  id
  name
  location
  isVisible
  colorRgb
  ordering
  description
  cohortGroupId
}

query CohortList($first: Int, $offset: Int, $visible: Boolean) {
  getCurrentTenant {
    id
    cohortsList(first: $first, offset: $offset, condition: {isVisible: $visible}, orderBy: [ORDERING_ASC]) {
      ...Cohort
    }
  }
}

query CohortWithMembers($id: BigInt!) {
  entity: cohort(id: $id) {
    ...Cohort
    cohortMembershipsList(condition: {active: true}, orderBy: [PERSON_BY_PERSON_ID__LAST_NAME_ASC, PERSON_BY_PERSON_ID__FIRST_NAME_ASC]) {
      ...CohortMembership
    }
  }
}

query Cohort($id: BigInt!) {
  entity: cohort(id: $id) {
    ...Cohort
  }
}

mutation CreateCohort($input: CohortInput!) {
  createCohort(input: {cohort: $input}) {
    cohort {
      ...Cohort
    }
  }
}

mutation UpdateCohort($id: BigInt!, $patch: CohortPatch!) {
  updateCohort(input: {id: $id, patch: $patch}) {
    cohort {
      ...Cohort
    }
  }
}

mutation DeleteCohort($id: BigInt!) {
  deleteSkupinyById(input: {id: $id}) {
    __typename
  }
}
